Script started on Wed May  9 17:51:17 2018
7]2;andreopo@cori03:...et/plasmidoraclev6]1;cori038andreopo@cori03:/global/projectb/sandbox/rqc/andreopo/src/bitbucket/plasmidoraclev6> ./format_Te st.py  --dataPath   dataTest_MockFASTAs
Using TensorFlow backend.
deep-libs1 imported elaT=0.0 sec
deep-libs2 imported, TF.ver=1.3.0, elaT=0.0 sec
myArg: verb 1
myArg: prjName assayer4
myArg: dataPath dataTest_MockFASTAs
myArg: outPath out
myArg: noXterm False
Plotter_Plasmid : Graphics started
Deep_Plasmid , prj: assayer4
oneHot base, size= 15 , sample:
base: A 1-hot: [1.0, 0.0, 0.0, 0.0]
base: C 1-hot: [0.0, 1.0, 0.0, 0.0]
base: T 1-hot: [0.0, 0.0, 1.0, 0.0]
base: G 1-hot: [0.0, 0.0, 0.0, 1.0]
all bases : ['A', 'C', 'T', 'G', 'N', 'Y', 'K', 'M', 'V', 'S', 'H', 'R', 'W', 'B', 'D']
use seqLenCut= 300
Deep_Plasmid , prj: assayer4
globFeatureL 10 fixed order: ['gc_content', 'len_sequence', 'A_longestHomopol', 'A_totalLongHomopol', 'C_longestHomopol', 'C_totalLongHomopol', 'T_longestHomopol', 'T_totalLongHomopol', 'G_longestHomopol', 'G_totalLongHomopol']
get_glob_info from /global/projectb/scratch/andreopo/AsafPlasmids/MockFASTAs/yml/
found 38 glob-features files  in  /global/projectb/scratch/andreopo/AsafPlasmids/MockFASTAs/yml/
read 122000 from /global/projectb/scratch/andreopo/AsafPlasmids/MockFASTAs/ALL.fasta
  read proteins inp list len= 9 , avr seq len(k)=66.6 +/- 88.0,  {'any': 37, 'short': 0, 'long': 28, 'presc': 0, 'noFeatures': 0, 'accept': 9}
  achieved split for  9 scaffolds to segments: [(0, 1, 2804), (1, 1, 9865), (2, 1, 3897), (3, 2, 25702), (4, 1, 287963), (5, 3, 269360)]
seg: 0  size=0.00 (MB) numScaf=1
seg: 1  size=0.01 (MB) numScaf=1
seg: 2  size=0.00 (MB) numScaf=1
seg: 3  size=0.03 (MB) numScaf=2
seg: 4  size=0.29 (MB) numScaf=1
seg: 5  size=0.27 (MB) numScaf=3
  closed  yaml: dataTest_MockFASTAs/assayer4.test-scaff-split.yml  size=0.58 MB   elaT=0.0 sec
Graphics saving to out/idx0_assayer4_format_f16 PDF ...
Graphics saving to out/idx0_assayer4_format_f6 PDF ...
7]2;andreopo@cori03:...et/plasmidoraclev6]1;cori038andreopo@cori03:/global/projectb/sandbox/rqc/andreopo/src/bitbucket/plasmidoraclev6> [K./predict_P lasmid.py --dataSegment -1 --given test --dataPath dataTest_MockFASTAs/  --kModelList 20-29
Using TensorFlow backend.
deep-libs1 imported elaT=10.3 sec
myArg: verb 1
myArg: prjName assayer4
myArg: dataPath dataTest_MockFASTAs/
myArg: given test
myArg: dataSegment -1
myArg: kModelList ['20-29']
myArg: outPath outPR
myArg: events 100
myArg: seedModel /global/cscratch1/sd/andreopo/plasmid_sum/4g/plasmid4g-
myArg: arrIdx 1
myArg: noXterm False
  read  yaml: dataTest_MockFASTAs//assayer4.test-scaff-split.yml  size=7   elaT=0.0 sec
M: seg: -1  num scaffolds: 9  score_thr= 0.5  max_scaff= 100000
Oracle_Plasmid , prj: assayer4
oneHot base, size= 15 , sample:
base: A 1-hot: [1.0, 0.0, 0.0, 0.0]
base: C 1-hot: [0.0, 1.0, 0.0, 0.0]
base: T 1-hot: [0.0, 0.0, 1.0, 0.0]
base: G 1-hot: [0.0, 0.0, 0.0, 1.0]
all bases : ['A', 'C', 'T', 'G', 'N', 'Y', 'K', 'M', 'V', 'S', 'H', 'R', 'W', 'B', 'D']
use seqLenCut= 300
load_kModels = 10 [20, 21, 22, 23, 24, 25, 26, 27, 28, 29]
load 0 model and weights  from /global/cscratch1/sd/andreopo/plasmid_sum/4g/plasmid4g-20/assayer4.model.h5   ... 
____________________________________________________________________________________________________
Layer (type)                     Output Shape          Param #     Connected to                     
====================================================================================================
seq_300_x_4 (InputLayer)         (None, 300, 4)        0                                            
____________________________________________________________________________________________________
globF_10 (InputLayer)            (None, 10)            0                                            
____________________________________________________________________________________________________
A_40 (LSTM)                      (None, 300, 40)       7200        seq_300_x_4[0][0]                
____________________________________________________________________________________________________
G_4 (Dense)                      (None, 4)             44          globF_10[0][0]                   
____________________________________________________________________________________________________
B_40 (LSTM)                      (None, 40)            12960       A_40[0][0]                       
____________________________________________________________________________________________________
H_4 (Dense)                      (None, 4)             20          G_4[0][0]                        
____________________________________________________________________________________________________
seq_glob (Concatenate)           (None, 44)            0           B_40[0][0]                       
                                                                   H_4[0][0]                        
____________________________________________________________________________________________________
C_40 (Dense)                     (None, 40)            1800        seq_glob[0][0]                   
____________________________________________________________________________________________________
fr_0.1 (Dropout)                 (None, 40)            0           C_40[0][0]                       
____________________________________________________________________________________________________
D_20 (Dense)                     (None, 20)            820         fr_0.1[0][0]                     
____________________________________________________________________________________________________
fr_same (Dropout)                (None, 20)            0           D_20[0][0]                       
____________________________________________________________________________________________________
score (Dense)                    (None, 1)             21          fr_same[0][0]                    
====================================================================================================
Total params: 22,865
Trainable params: 22,865
Non-trainable params: 0
____________________________________________________________________________________________________
load 1 model and weights  from /global/cscratch1/sd/andreopo/plasmid_sum/4g/plasmid4g-21/assayer4.model.h5   ... 
load 2 model and weights  from /global/cscratch1/sd/andreopo/plasmid_sum/4g/plasmid4g-22/assayer4.model.h5   ... 
load 3 model and weights  from /global/cscratch1/sd/andreopo/plasmid_sum/4g/plasmid4g-23/assayer4.model.h5   ... 
load 4 model and weights  from /global/cscratch1/sd/andreopo/plasmid_sum/4g/plasmid4g-24/assayer4.model.h5   ... 
load 5 model and weights  from /global/cscratch1/sd/andreopo/plasmid_sum/4g/plasmid4g-25/assayer4.model.h5   ... 
load 6 model and weights  from /global/cscratch1/sd/andreopo/plasmid_sum/4g/plasmid4g-26/assayer4.model.h5   ... 
load 7 model and weights  from /global/cscratch1/sd/andreopo/plasmid_sum/4g/plasmid4g-27/assayer4.model.h5   ... 
load 8 model and weights  from /global/cscratch1/sd/andreopo/plasmid_sum/4g/plasmid4g-28/assayer4.model.h5   ... 
load 9 model and weights  from /global/cscratch1/sd/andreopo/plasmid_sum/4g/plasmid4g-29/assayer4.model.h5   ... 
10 models loaded, elaT=83.0 sec
1 Psest_Contig40.4 decision=PLASM, avr score: 0.560 +/- 0.012  len=2.8k sampl=76
2 Psest_Contig44.3 decision=AMBIG, avr score: 0.513 +/- 0.015  len=9.9k sampl=99
3 Desaci_Contig240.3 decision=PLASM, avr score: 0.561 +/- 0.009  len=3.9k sampl=81
4 Natoc_Contig265 decision=PLASM, avr score: 0.566 +/- 0.008  len=12.9k sampl=106
5 Psest_Contig45.2 decision=AMBIG, avr score: 0.496 +/- 0.013  len=12.8k sampl=106
6 Natoc_Contig266 decision=PLASM, avr score: 0.529 +/- 0.005  len=288.0k sampl=318
7 Desaci_Contig241.2 decision=PLASM, avr score: 0.563 +/- 0.004  len=60.4k sampl=172
8 NC_012983 decision=MAIN, avr score: 0.092 +/- 0.002  len=84.5k sampl=195
9 NC_014214 decision=PLASM, avr score: 0.909 +/- 0.002  len=124.4k sampl=226
M:test endCnt: {'inp': 9, 'plasmid': 6, 'main': 1, 'NNjunk': 0, 'ambig': 2}   fraction: Plasm=0.667 Ambig=0.222  Main=0.111
Plotter_Plasmid : Graphics started
Labeled scores found mInp {0: 7, 1: 2}  thr= 0.5
Graphics saving to outPR/idx1_assayer4_predict_f22 PDF ...
7]2;andreopo@cori03:...et/plasmidoraclev6]1;cori038andreopo@cori03:/global/projectb/sandbox/rqc/andreopo/src/bitbucket/plasmidoraclev6> [K
7]2;andreopo@cori03:...et/plasmidoraclev6]1;cori038andreopo@cori03:/global/projectb/sandbox/rqc/andreopo/src/bitbucket/plasmidoraclev6> exit    exit
exit

Script done on Wed May  9 19:28:22 2018
